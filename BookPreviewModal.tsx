import { useState } from "react";
import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from "@/components/ui/dialog";
import { Button } from "@/components/ui/button";
import { ScrollArea } from "@/components/ui/scroll-area";
import { AMAZON_BOOK_LINK, BOOK_PREVIEW_TEXT } from "@/lib/constants";

interface BookPreviewModalProps {
  isOpen: boolean;
  onClose: () => void;
}

export const BookPreviewModal = ({ isOpen, onClose }: BookPreviewModalProps) => {
  return (
    <Dialog open={isOpen} onOpenChange={(open) => !open && onClose()}>
      <DialogContent className="bg-white rounded-xl shadow-xl max-w-2xl w-full p-6 sm:p-8">
        <DialogHeader>
          <DialogTitle className="font-montserrat text-xl font-bold text-navy">
            Book Preview
          </DialogTitle>
        </DialogHeader>
        
        <ScrollArea className="prose prose-lg max-h-96 overflow-y-auto my-6">
          <div className="space-y-4">
            <p className="font-montserrat font-bold text-xl text-center mb-4">DISMISSED</p>
            <p className="text-center mb-6 italic">Chapter One</p>
            
            {BOOK_PREVIEW_TEXT.split('\n\n').map((paragraph, index) => (
              <p key={index}>{paragraph}</p>
            ))}
          </div>
        </ScrollArea>
        
        <div className="text-center">
          <a 
            href={AMAZON_BOOK_LINK} 
            target="_blank" 
            rel="noopener noreferrer" 
            className="inline-flex items-center justify-center bg-navy hover:bg-navy-light text-white font-montserrat font-bold py-3 px-8 rounded-md transition duration-300"
          >
            <svg className="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path d="M17.5381 14.2627C17.3181 14.2627 17.1281 14.2927 16.9681 14.3527C16.8081 14.4127 16.6881 14.4927 16.6081 14.5927C16.5281 14.6927 16.4781 14.8027 16.4581 14.9227C16.4380 15.0427 16.4281 15.1527 16.4281 15.2527C16.4281 15.4527 16.4681 15.6327 16.5481 15.7827C16.6281 15.9327 16.7581 16.0627 16.9381 16.1727C17.1181 16.2827 17.3581 16.3727 17.6581 16.4427C17.9581 16.5127 18.3381 16.5827 18.7881 16.6527C19.3081 16.7327 19.7781 16.8327 20.1981 16.9527C20.6181 17.0727 20.9781 17.2327 21.2781 17.4327C21.5781 17.6327 21.8081 17.8827 21.9681 18.1827C22.1281 18.4827 22.2081 18.8527 22.2081 19.2927C22.2081 19.7927 22.1081 20.2127 21.9081 20.5627C21.7081 20.9127 21.4381 21.1927 21.0981 21.4127C20.7581 21.6327 20.3681 21.7927 19.9281 21.8927C19.4881 21.9927 19.0181 22.0427 18.5181 22.0427C18.0181 22.0427 17.5181 21.9827 17.0181 21.8627C16.5181 21.7427 16.0581 21.5327 15.6381 21.2327C15.2181 20.9327 14.8781 20.5227 14.6181 20.0027C14.3581 19.4827 14.2281 18.8327 14.2281 18.0527H16.5681C16.5681 18.4527 16.6281 18.7827 16.7481 19.0327C16.8681 19.2827 17.0281 19.4727 17.2281 19.6127C17.4281 19.7527 17.6581 19.8527 17.9181 19.9127C18.1781 19.9727 18.4481 20.0027 18.7281 20.0027C18.9281 20.0027 19.1281 19.9827 19.3281 19.9427C19.5281 19.9027 19.7081 19.8327 19.8681 19.7427C20.0281 19.6527 20.1581 19.5327 20.2581 19.3927C20.3581 19.2527 20.4081 19.0727 20.4081 18.8627C20.4081 18.6227 20.3381 18.4227 20.1981 18.2727C20.0581 18.1227 19.8681 17.9927 19.6281 17.8927C19.3881 17.7927 19.1081 17.7027 18.7881 17.6327C18.4681 17.5627 18.1281 17.4927 17.7681 17.4227C17.2881 17.3427 16.8481 17.2527 16.4481 17.1527C16.0481 17.0527 15.6981 16.9127 15.3981 16.7427C15.0981 16.5727 14.8581 16.3427 14.6781 16.0627C14.4981 15.7827 14.4081 15.4127 14.4081 14.9627C14.4081 14.4927 14.5081 14.0927 14.7081 13.7527C14.9081 13.4127 15.1681 13.1327 15.4881 12.9127C15.8081 12.6927 16.1881 12.5327 16.6281 12.4227C17.0681 12.3127 17.5281 12.2627 18.0081 12.2627C18.5081 12.2627 18.9881 12.3227 19.4481 12.4427C19.9081 12.5627 20.3081 12.7527 20.6481 13.0227C20.9881 13.2927 21.2581 13.6427 21.4681 14.0627C21.6781 14.4827 21.7881 14.9827 21.7981 15.5727H19.4981C19.4781 15.2727 19.4281 15.0227 19.3381 14.8227C19.2481 14.6227 19.1281 14.4627 18.9781 14.3427C18.8281 14.2227 18.6481 14.1327 18.4481 14.0827C18.2481 14.0327 18.0381 14.0027 17.8081 14.0027C17.7081 14.0027 17.6081 14.0127 17.5181 14.0227C17.4281 14.0327 17.3481 14.0527 17.2681 14.0827C17.1881 14.1127 17.1281 14.1627 17.0781 14.2227C17.0281 14.2827 17.0081 14.3627 17.0081 14.4527C17.0081 14.6527 17.0881 14.8127 17.2381 14.9227C17.3881 15.0327 17.5981 15.1327 17.8581 15.2127C18.1181 15.2927 18.4081 15.3627 18.7381 15.4327C19.0681 15.5027 19.4081 15.5827 19.7581 15.6627C20.2281 15.7427 20.6681 15.8427 21.0681 15.9627C21.4681 16.0827 21.8181 16.2427 22.1081 16.4427C22.3981 16.6427 22.6281 16.8927 22.7981 17.1827C22.9681 17.4727 23.0481 17.8327 23.0481 18.2527C23.0481 18.6727 22.9681 19.0627 22.8081 19.4127C22.6481 19.7627 22.4081 20.0727 22.0981 20.3327C21.7881 20.5927 21.4081 20.8027 20.9681 20.9527C20.5281 21.1027 20.0281 21.1827 19.4681 21.1827C18.9181 21.1827 18.3981 21.1227 17.9081 21.0027C17.4181 20.8827 16.9781 20.6727 16.5981 20.3727C16.2181 20.0727 15.9181 19.6727 15.6981 19.1827C15.4781 18.6927 15.3681 18.0727 15.3681 17.3327H17.6781C17.6781 17.7127 17.7281 18.0227 17.8281 18.2627C17.9281 18.5027 18.0681 18.6827 18.2581 18.8127C18.4481 18.9427 18.6481 19.0327 18.8681 19.0827C19.0881 19.1327 19.3181 19.1627 19.5481 19.1627C19.7581 19.1627 19.9581 19.1427 20.1381 19.1027C20.3181 19.0627 20.4681 19.0027 20.5981 18.9227C20.7281 18.8427 20.8281 18.7427 20.9081 18.6227C20.9881 18.5027 21.0281 18.3627 21.0281 18.2027C21.0281 17.9627 20.9581 17.7627 20.8181 17.6127C20.6781 17.4627 20.4881 17.3427 20.2481 17.2427C20.0081 17.1427 19.7181 17.0527 19.3881 16.9827C19.0581 16.9127 18.7181 16.8427 18.3681 16.7727C17.8081 16.6727 17.3280 16.5627 16.9280 16.4427C16.5280 16.3227 16.1881 16.1727 15.9081 15.9927C15.6281 15.8127 15.4081 15.5727 15.2481 15.2827C15.0881 14.9927 15.0081 14.6227 15.0081 14.1727C15.0081 13.7227 15.0881 13.3127 15.2481 12.9527C15.4081 12.5927 15.6381 12.2827 15.9381 12.0327C16.2381 11.7827 16.5881 11.5927 16.9981 11.4627C17.4081 11.3327 17.8481 11.2727 18.3181 11.2727C18.8181 11.2727 19.2881 11.3327 19.7381 11.4527C20.1881 11.5727 20.5781 11.7627 20.9081 12.0227C21.2381 12.2827 21.4981 12.6027 21.6981 12.9927C21.8981 13.3827 21.9981 13.8527 21.9981 14.4027H19.6981C19.6881 14.0627 19.5981 13.7927 19.4381 13.5927C19.2781 13.3927 19.0881 13.2427 18.8581 13.1427C18.6281 13.0427 18.3881 12.9727 18.1381 12.9427C17.8881 12.9127 17.6581 12.8927 17.4381 12.8927C17.2380 12.8927 17.0681 12.9127 16.9281 12.9427C16.7881 12.9727 16.6581 13.0227 16.5581 13.0827C16.4581 13.1427 16.3881 13.2227 16.3381 13.3127C16.2881 13.4027 16.2681 13.5027 16.2681 13.6127C16.2681 13.8127 16.3481 13.9727 16.4981 14.0827C16.6481 14.1927 16.8581 14.2927 17.1181 14.3727C17.3781 14.4527 17.6681 14.5227 17.9981 14.5927C18.3281 14.6627 18.6681 14.7427 19.0181 14.8227C19.4881 14.9027 19.9281 15.0027 20.3281 15.1227C20.7281 15.2427 21.0781 15.4027 21.3681 15.6027C21.6581 15.8027 21.8881 16.0527 22.0581 16.3427C22.2281 16.6327 22.3081 16.9927 22.3081 17.4127C22.3081 17.8327 22.2281 18.2227 22.0681 18.5727C21.9081 18.9227 21.6681 19.2327 21.3481 19.4927C21.0281 19.7527 20.6581 19.9527 20.2181 20.1027C19.7781 20.2527 19.2980 20.3227 18.7781 20.3227C18.2080 20.3227 17.6781 20.2527 17.1881 20.1127C16.6981 19.9727 16.2881 19.7527 15.9581 19.4527C15.6281 19.1527 15.3781 18.7727 15.2081 18.3127C15.0381 17.8527 14.9581 17.2927 14.9681 16.6327H17.2781C17.2781 17.0127 17.3281 17.3127 17.4281 17.5527C17.5281 17.7927 17.6681 17.9927 17.8581 18.1227C18.0481 18.2527 18.2481 18.3427 18.4681 18.3927C18.6881 18.4427 18.9181 18.4727 19.1481 18.4727C19.3581 18.4727 19.5581 18.4527 19.7381 18.4127C19.9181 18.3727 20.0681 18.3127 20.1981 18.2327C20.3281 18.1527 20.4281 18.0527 20.5081 17.9327C20.5881 17.8127 20.6281 17.6727 20.6281 17.5127C20.6281 17.3027 20.5581 17.1327 20.4181 17.0027C20.2781 16.8727 20.1081 16.7627 19.9081 16.6827C19.7081 16.6027 19.4781 16.5427 19.2181 16.4927C18.9581 16.4427 18.6981 16.3927 18.4381 16.3527C17.3981 16.2327 16.3781 16.0127 15.3281 15.7127V15.5527C15.2281 15.5027 15.1381 15.4527 15.0581 15.3927C14.9781 15.3327 14.9081 15.2627 14.8481 15.1827C14.7881 15.1027 14.7481 15.0127 14.7181 14.9127C14.6881 14.8127 14.6681 14.7027 14.6681 14.5827C14.6681 14.3827 14.7081 14.2027 14.7881 14.0527C14.8681 13.9027 14.9881 13.7727 15.1481 13.6627C15.3081 13.5527 15.5081 13.4727 15.7381 13.4127C15.9681 13.3527 16.2481 13.3227 16.5781 13.3227C16.7981 13.3227 17.0081 13.3327 17.2181 13.3627C17.4280 13.3927 17.6180 13.4427 17.7980 13.5127C17.9780 13.5827 18.1280 13.6827 18.2580 13.8127C18.3880 13.9427 18.4780 14.1027 18.5480 14.2927H18.5880C18.6280 14.1027 18.7080 13.9427 18.8380 13.8127C18.9680 13.6827 19.1380 13.5827 19.3380 13.5127C19.5380 13.4427 19.7580 13.3927 19.9980 13.3627C20.2380 13.3327 20.4780 13.3227 20.7180 13.3227C21.0480 13.3227 21.3380 13.3527 21.5880 13.4127C21.8380 13.4727 22.0380 13.5527 22.1880 13.6627C22.3380 13.7727 22.4480 13.9027 22.5180 14.0527C22.5880 14.2027 22.6280 14.3827 22.6280 14.5827C22.6280 14.7027 22.6080 14.8127 22.5780 14.9127C22.5480 15.0127 22.5080 15.1027 22.4480 15.1827C22.3880 15.2627 22.3180 15.3327 22.2380 15.3927C22.1580 15.4527 22.0680 15.5027 21.9680 15.5527V15.7127C20.9180 16.0127 19.8980 16.2327 18.8580 16.3527C18.5980 16.3927 18.3380 16.4427 18.0780 16.4927C17.8180 16.5427 17.5880 16.6027 17.3880 16.6827C17.1880 16.7627 17.0180 16.8727 16.8780 17.0027C16.7380 17.1327 16.6680 17.3027 16.6680 17.5127C16.6680 17.6727 16.7080 17.8127 16.7880 17.9327C16.8680 18.0527 16.9680 18.1527 17.0980 18.2327C17.2280 18.3127 17.3780 18.3727 17.5580 18.4127C17.7380 18.4527 17.9380 18.4727 18.1480 18.4727C18.3780 18.4727 18.6080 18.4427 18.8280 18.3927C19.0480 18.3427 19.2480 18.2527 19.4380 18.1227C19.6280 17.9927 19.7680 17.7927 19.8680 17.5527C19.9680 17.3127 20.0180 17.0127 20.0180 16.6327H17.7080C17.7080 17.2927 17.7880 17.8527 17.9580 18.3127C18.1280 18.7727 18.3780 19.1527 18.7080 19.4527C19.0380 19.7527 19.4480 19.9727 19.9380 20.1127C20.4280 20.2527 20.9580 20.3227 21.5280 20.3227C22.0480 20.3227 22.5280 20.2527 22.9680 20.1027C23.4080 19.9527 23.7780 19.7527 24.0980 19.4927C24.4180 19.2327 24.6580 18.9227 24.8180 18.5727C24.9780 18.2227 25.0580 17.8327 25.0580 17.4127C25.0580 16.9927 24.9780 16.6327 24.8080 16.3427C24.6380 16.0527 24.4080 15.8027 24.1180 15.6027C23.8280 15.4027 23.4780 15.2427 23.0780 15.1227C22.6780 15.0027 22.2380 14.9027 21.7680 14.8227C21.4180 14.7427 21.0780 14.6627 20.7480 14.5927C20.4180 14.5227 20.1280 14.4527 19.8680 14.3727C19.6080 14.2927 19.3980 14.1927 19.2480 14.0827C19.0980 13.9727 19.0180 13.8127 19.0180 13.6127C19.0180 13.5027 19.0380 13.4027 19.0880 13.3127C19.1380 13.2227 19.2080 13.1427 19.3080 13.0827C19.4080 13.0227 19.5380 12.9727 19.6780 12.9427C19.8180 12.9127 19.9880 12.8927 20.1880 12.8927C20.4080 12.8927 20.6380 12.9127 20.8880 12.9427C21.1380 12.9727 21.3780 13.0427 21.6080 13.1427C21.8380 13.2427 22.0280 13.3927 22.1880 13.5927C22.3480 13.7927 22.4380 14.0627 22.4480 14.4027H24.7480C24.7480 13.8527 24.6480 13.3827 24.4480 12.9927C24.2480 12.6027 23.9880 12.2827 23.6580 12.0227C23.3280 11.7627 22.9380 11.5727 22.4880 11.4527C22.0380 11.3327 21.5680 11.2727 21.0680 11.2727C20.5980 11.2727 20.1580 11.3327 19.7480 11.4627C19.3380 11.5927 18.9880 11.7827 18.6880 12.0327C18.3880 12.2827 18.1580 12.5927 17.9980 12.9527C17.8380 13.3127 17.7580 13.7227 17.7580 14.1727C17.7580 14.6227 17.8380 14.9927 17.9980 15.2827C18.1580 15.5727 18.3780 15.8127 18.6580 15.9927C18.9380 16.1727 19.2780 16.3227 19.6780 16.4427C20.0780 16.5627 20.5580 16.6727 21.1180 16.7727C21.4680 16.8427 21.8080 16.9127 22.1380 16.9827C22.4680 17.0527 22.7580 17.1427 22.9980 17.2427C23.2380 17.3427 23.4280 17.4627 23.5680 17.6127C23.7080 17.7627 23.7780 17.9627 23.7780 18.2027C23.7780 18.3627 23.7380 18.5027 23.6580 18.6227C23.5780 18.7427 23.4780 18.8427 23.3480 18.9227C23.2180 19.0027 23.0680 19.0627 22.8880 19.1027C22.7080 19.1427 22.5080 19.1627 22.2980 19.1627C22.0680 19.1627 21.8380 19.1327 21.6180 19.0827C21.3980 19.0327 21.1980 18.9427 21.0080 18.8127C20.8180 18.6827 20.6780 18.5027 20.5780 18.2627C20.4780 18.0227 20.4280 17.7127 20.4280 17.3327H18.1180C18.1180 18.0727 18.2280 18.6927 18.4480 19.1827C18.6680 19.6727 18.9680 20.0727 19.3480 20.3727C19.7280 20.6727 20.1680 20.8827 20.6580 21.0027C21.1480 21.1227 21.6680 21.1827 22.2180 21.1827C22.7780 21.1827 23.2780 21.1027 23.7180 20.9527C24.1580 20.8027 24.5380 20.5927 24.8480 20.3327C25.1580 20.0727 25.3980 19.7627 25.5580 19.4127C25.7180 19.0627 25.7980 18.6727 25.7980 18.2527C25.7980 17.8327 25.7180 17.4727 25.5480 17.1827C25.3780 16.8927 25.1480 16.6427 24.8580 16.4427C24.5680 16.2427 24.2180 16.0827 23.8180 15.9627C23.4180 15.8427 22.9780 15.7427 22.5080 15.6627C22.1580 15.5827 21.8180 15.5027 21.4880 15.4327C21.1580 15.3627 20.8680 15.2927 20.6080 15.2127C20.3480 15.1327 20.1380 15.0327 19.9880 14.9227C19.8380 14.8127 19.7580 14.6527 19.7580 14.4527C19.7580 14.3627 19.7780 14.2827 19.8280 14.2227C19.8780 14.1627 19.9380 14.1127 20.0180 14.0827C20.0980 14.0527 20.1780 14.0327 20.2680 14.0227C20.3580 14.0127 20.4580 14.0027 20.5580 14.0027C20.7880 14.0027 20.9980 14.0327 21.1980 14.0827C21.3980 14.1327 21.5780 14.2227 21.7280 14.3427C21.8780 14.4627 21.9980 14.6227 22.0880 14.8227C22.1780 15.0227 22.2280 15.2727 22.2480 15.5727H24.5480C24.5380 14.9827 24.4280 14.4827 24.2180 14.0627C24.0080 13.6427 23.7380 13.2927 23.3980 13.0227C23.0580 12.7527 22.6580 12.5627 22.1980 12.4427C21.7380 12.3227 21.2580 12.2627 20.7580 12.2627C20.2780 12.2627 19.8180 12.3127 19.3780 12.4227C18.9380 12.5327 18.5580 12.6927 18.2380 12.9127C17.9180 13.1327 17.6580 13.4127 17.4580 13.7527C17.2580 14.0927 17.1580 14.4927 17.1580 14.9627C17.1580 15.4127 17.2480 15.7827 17.4280 16.0627C17.6080 16.3427 17.8480 16.5727 18.1480 16.7427C18.4480 16.9127 18.7980 17.0527 19.1980 17.1527C19.5980 17.2527 20.0380 17.3427 20.5180 17.4227C20.8780 17.4927 21.2180 17.5627 21.5380 17.6327C21.8580 17.7027 22.1380 17.7927 22.3780 17.8927C22.6180 17.9927 22.8080 18.1227 22.9480 18.2727C23.0880 18.4227 23.1580 18.6227 23.1580 18.8627C23.1580 19.0727 23.1080 19.2527 23.0080 19.3927C22.9080 19.5327 22.7780 19.6527 22.6180 19.7427C22.4580 19.8327 22.2780 19.9027 22.0780 19.9427C21.8780 19.9827 21.6780 20.0027 21.4780 20.0027C21.1980 20.0027 20.9280 19.9727 20.6680 19.9127C20.4080 19.8527 20.1780 19.7527 19.9780 19.6127C19.7780 19.4727 19.6180 19.2827 19.4980 19.0327C19.3780 18.7827 19.3180 18.4527 19.3180 18.0527H16.9780C16.9780 18.8327 17.1080 19.4827 17.3680 20.0027C17.6280 20.5227 17.9680 20.9327 18.3880 21.2327C18.8080 21.5327 19.2680 21.7427 19.7680 21.8627C20.2680 21.9827 20.7680 22.0427 21.2680 22.0427C21.7680 22.0427 22.2380 21.9927 22.6780 21.8927C23.1180 21.7927 23.5080 21.6327 23.8480 21.4127C24.1880 21.1927 24.4580 20.9127 24.6580 20.5627C24.8580 20.2127 24.9580 19.7927 24.9580 19.2927C24.9580 18.8527 24.8780 18.4827 24.7180 18.1827C24.5580 17.8827 24.3280 17.6327 24.0280 17.4327C23.7280 17.2327 23.3680 17.0727 22.9480 16.9527C22.5280 16.8327 22.0580 16.7327 21.5380 16.6527C21.0880 16.5827 20.7080 16.5127 20.4080 16.4427C20.1080 16.3727 19.8680 16.2827 19.6880 16.1727C19.5080 16.0627 19.3780 15.9327 19.2980 15.7827C19.2180 15.6327 19.1780 15.4527 19.1780 15.2527C19.1780 15.1527 19.1880 15.0427 19.2080 14.9227C19.2280 14.8027 19.2780 14.6927 19.3580 14.5927C19.4380 14.4927 19.5580 14.4127 19.7180 14.3527C19.8780 14.2927 20.0680 14.2627 20.2880 14.2627C20.5081 14.2627 20.7081 14.2827 20.8881 14.3227C21.0681 14.3627 21.2181 14.4227 21.3481 14.5027C21.4781 14.5827 21.5781 14.6827 21.6581 14.8027C21.7381 14.9227 21.7881 15.0527 21.7981 15.2127H24.0981C24.1381 14.9027 24.1581 14.6227 24.1581 14.3727C24.1581 13.9127 24.0681 13.4927 23.8981 13.1327C23.7281 12.7727 23.4981 12.4627 23.2081 12.2227C22.9181 11.9827 22.5781 11.7927 22.1881 11.6527C21.7981 11.5127 21.3780 11.4427 20.9380 11.4427C20.4280 11.4427 19.9680 11.5127 19.5580 11.6527C19.1480 11.7927 18.7980 11.9827 18.5180 12.2227C18.2380 12.4627 18.0180 12.7727 17.8580 13.1327C17.6980 13.4927 17.6180 13.9127 17.6180 14.3727C17.6180 14.6227 17.6380 14.9027 17.6780 15.2127H19.9780C19.9680 15.0527 20.0180 14.9227 20.0980 14.8027C20.1780 14.6827 20.2780 14.5827 20.4080 14.5027C20.5380 14.4227 20.6880 14.3627 20.8680 14.3227C21.0480 14.2827 21.2480 14.2627 21.4680 14.2627Z" />
            </svg>
            Pre-order Full Book
          </a>
        </div>
      </DialogContent>
    </Dialog>
  );
};
